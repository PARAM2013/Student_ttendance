@model Student_Attendance.ViewModels.DivisionViewModel

<form asp-action="CreateEdit">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    <input type="hidden" id="Id" name="Id" value="@Model.Id" />
    <div class="form-group">
        <label for="Name">Name</label>
        <input type="text" id="Name" name="Name" class="form-control" value="@Model.Name" />
        <span class="text-danger" id="Name-Error"></span>
    </div>
    <div class="form-group">
        <label for="ClassId">Class</label>
        <select id="ClassId" name="ClassId" class="form-control">
            <option value="">--- Select Class---</option>
            @foreach (var item in Model.Classes)
            {
                <option value="@item.Value">@item.Text</option>
            }
        </select>
        <span class="text-danger" id="ClassId-Error"></span>
    </div>
    <div class="form-group mt-2">
        <button type="submit" class="btn btn-primary">Save</button>
    </div>
</form>
@section Scripts {
    <script>
        $("form[asp-action='CreateEdit']").submit(function(event) {
           var name =  $(this).find('#Name').val();
            var classId = $(this).find('#ClassId').val();
           var error = false;
           if(name == null || name == '')
           {
            event.preventDefault();
            $(this).find('#Name-Error').text('Name is required');
             error = true;
           }
            else
           {
             $(this).find('#Name-Error').text('');
           }
             if(classId == null || classId == '')
           {
            event.preventDefault();
            $(this).find('#ClassId-Error').text('Class is required');
              error = true;
           }
           else
           {
              $(this).find('#ClassId-Error').text('');
           }

            if(error)
            {
                return false;
            }
            return true;
        });

    </script>
}